<nz-drawer
    [nzVisible]="operFileDra.visible"
    [nzTitle]="operFileDra.title"
    [nzWidth]="operFileDra.width"
    (nzOnClose)="operFileDra.close()"
>
    <div class="drawer_area">
        <div class="container">
            <div class="file-list">
                <div class="file-item" *ngFor="let item of operPersonFileIfy.data">
                    <div class="file-item-title">
                        {{ item.annexName }}
                    </div>
                    <div class="file-item-content">
                        <nz-upload
                            nzMultiple
                            nzListType="picture"
                            [nzData]="item"
                            [nzCustomRequest]="operPersonFileIfy.fileCustomRequest"
                            [nzRemove]="operPersonFileIfy.fileRemove"
                            [nzFileList]="item.fileList"
                            [nzPreview]="operPersonFileIfy.preview"
                            [nzShowUploadList]="{ showRemoveIcon: jobStepInfo?.stepId === 'start'}"
                        >
                            <button nz-button [disabled]="jobStepInfo?.stepId !== 'start'"><i nz-icon nzType="upload"></i>上传附件</button>
                        </nz-upload>
                    </div>
                </div>
            </div>
        </div>
    </div>
</nz-drawer>

<!-- 在线预览附件 -->
<gl-online-doc
    #onlineDocOverlayElement
    [fileList]="operPersonFileIfy?.fileList"
    [selectedIndex]="operPersonFileIfy?.selectedIndex"
></gl-online-doc>