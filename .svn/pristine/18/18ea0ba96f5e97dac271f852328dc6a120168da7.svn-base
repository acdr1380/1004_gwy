<div class="layout">
    <div class="header">
        <div class="trans_step">
            <nz-steps
                [(nzCurrent)]="transactionStepsIfy.index"
                [ngStyle]="{ cursor: 'pointer' }"
                (nzIndexChange)="transactionStepsIfy.evtStepChange($event)"
            >
                <ng-container *ngFor="let item of transactionStepsIfy.list">
                    <nz-step [nzTitle]="item.text"></nz-step>
                </ng-container>
            </nz-steps>
        </div>
    </div>
    <!-- 业务小步骤具体内容切换，渲染只做隐藏 -->
    <ng-container *ngFor="let item of transactionStepsIfy.list; let i = index">
        <div [hidden]="i !== transactionStepsIfy.index" class="container">
            <ng-template [ngTemplateOutlet]="item?.template"></ng-template>
        </div>
    </ng-container>
    <div class="footer">
        <ng-container [ngSwitch]="transactionStepsIfy.index">
            <ng-template [ngSwitchCase]="0">
                <button
                    nz-button
                    nzType="primary"
                    nzGhost
                    (click)="transactionStepsIfy.evtStepChange(1)"
                >
                    下一步：{{ transactionStepsIfy.list[1]?.text }}
                </button>
            </ng-template>
            <!--<ng-template [ngSwitchCase]="1">
                <button
                    nz-button
                    nzType="primary"
                    nzGhost
                    (click)="transactionStepsIfy.evtStepChange(0)"
                >
                    上一步：{{ transactionStepsIfy.list[0]?.text }}
                </button>
                <button
                    nz-button
                    nzType="primary"
                    nzGhost
                    (click)="transactionStepsIfy.evtStepChange(2)"
                >
                    下一步：{{ transactionStepsIfy.list[2]?.text }}
                </button>
            </ng-template> -->
            <ng-template [ngSwitchCase]="1">
                <button
                    nz-button
                    nzType="primary"
                    nzGhost
                    (click)="transactionStepsIfy.evtStepChange(0)"
                >
                    上一步：{{ transactionStepsIfy.list[0]?.text }}
                </button>
                <button
                    nz-button
                    nzType="primary"
                    (click)="submit()"
                    [disabled]="!state.DB"
                >
                    上报主管审核
                </button>
            </ng-template>
        </ng-container>
    </div>
</div>

<!-- 部署信息 -->
<!-- <ng-template #oneStepTemplate>
    <y-start [ngStyle]="{width: '100%'}"></y-start>
</ng-template> -->

<!-- 选人 -->
<ng-template #twoStepTemplate>
    <y-table [ngStyle]="{width: '100%'}"></y-table>
</ng-template>

<!-- 预览 -->
<ng-template #threeStepTemplate>
    <y-preview #previewel [operInfo]="operInfo"  [state]="state" [ngStyle]="{width: '100%'}"></y-preview>
</ng-template>

